<div class="analysis-container">
  @if(isTransactionFormVisible) {
    <div class="modal">
      <div class="modal-content">
        <span class="close" (click)="isTransactionFormVisible = false">&times;</span>
        <app-transaction-form
          (transactionAdded)="onTransactionAdded()"
          (closeForm)="isTransactionFormVisible = false">
        </app-transaction-form>
      </div>
    </div>
  }

  <div class="page-header">
    <h1>Financial Analysis</h1>
    <button class="add-new-btn" (click)="onAddTransaction()">+ Add Transaction</button>
  </div>

  <div class="tab-switcher">
    <button (click)="selectTab('expenses')" [class.active]="activeTab === 'expenses'" routerLink="/analysis/details/expenses">Expenses</button>
    <button (click)="selectTab('income')" [class.active]="activeTab === 'income'" routerLink="/analysis/details/income">Income</button>
    <button (click)="selectTab('savings')" [class.active]="activeTab === 'savings'" routerLink="/analysis/details/savings">Savings</button>
  </div>

  <div class="tab-content-area" [ngSwitch]="activeTab">
    <app-expense-detail *ngSwitchCase="'expenses'"></app-expense-detail>
    <app-income-detail *ngSwitchCase="'income'"></app-income-detail>
    <app-savings-detail *ngSwitchCase="'savings'"></app-savings-detail>
  </div>
</div>
